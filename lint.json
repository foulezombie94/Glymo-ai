[{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\applyCamera.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\fixBarcodeLink.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\fixEslint.cjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\App.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\components\\BmiWidget.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\context\\LanguageContext.jsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":6,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":6,"endColumn":25,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\context\\MealContext.jsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook React.useCallback has a missing dependency: 'fetchMealsForUser'. Either include it or remove the dependency array.","line":55,"column":6,"nodeType":"ArrayExpression","endLine":55,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchMealsForUser]","fix":{"range":[1906,1908],"text":"[fetchMealsForUser]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchWaterLogs' and 'fetchWeightLogs'. Either include them or remove the dependency array.","line":268,"column":6,"nodeType":"ArrayExpression","endLine":268,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchWaterLogs, fetchWeightLogs]","fix":{"range":[10054,10056],"text":"[fetchWaterLogs, fetchWeightLogs]"}}]}],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":8,"column":14,"nodeType":"Identifier","messageId":"namedExport","endLine":8,"endColumn":22,"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'fetchMealsForUser', 'fetchWaterLogs', and 'fetchWeightLogs'. Either include them or remove the dependency array.","line":48,"column":6,"nodeType":"ArrayExpression","endLine":48,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [fetchMealsForUser, fetchWaterLogs, fetchWeightLogs]","fix":{"range":[1611,1613],"text":"[fetchMealsForUser, fetchWaterLogs, fetchWeightLogs]"}}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/* eslint-disable react-refresh/only-export-components */\r\nimport React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { supabase } from '../lib/supabase';\r\nimport { startOfDay, endOfDay, subDays, startOfWeek, format, isSameDay } from 'date-fns';\r\n\r\nconst MealContext = createContext();\r\n\r\nexport const useMeals = () => {\r\n  return useContext(MealContext);\r\n};\r\n\r\nexport const MealProvider = ({ children }) => {\r\n  const [meals, setMeals] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  // ─── Auth state ───────────────────────────────────────────────────────────\r\n  // Listen to login/logout/account switches and reload the meals for that user\r\n  useEffect(() => {\r\n    // Get current session on mount\r\n    supabase.auth.getSession().then(({ data: { session } }) => {\r\n      const uid = session?.user?.id || null;\r\n      if (uid) {\r\n        fetchMealsForUser(uid);\r\n        fetchWeightLogs();   // BMI depends on profile weight/height\r\n        fetchWaterLogs();\r\n      } else {\r\n        setMeals([]);\r\n        setLoading(false);\r\n      }\r\n    });\r\n\r\n    // React to auth changes (login / logout / switch account)\r\n    const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      const uid = session?.user?.id || null;\r\n      if (uid) {\r\n        fetchMealsForUser(uid);\r\n        fetchWeightLogs();\r\n        fetchWaterLogs();\r\n      } else {\r\n        setMeals([]);\r\n        setLoading(false);\r\n      }\r\n    });\r\n\r\n    return () => subscription.unsubscribe();\r\n\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  // ─── Fetch meals (user-scoped) ────────────────────────────────────────────\r\n  const fetchMealsFromSupabase = React.useCallback(() => {\r\n    supabase.auth.getSession().then(({ data: { session } }) => {\r\n      if (session?.user?.id) fetchMealsForUser(session.user.id);\r\n    });\r\n  }, []);\r\n\r\n  const fetchMealsForUser = React.useCallback(async (uid) => {\r\n    setLoading(true);\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('meals')\r\n        .select('*')\r\n        .eq('user_id', uid)           // ← only this user's meals\r\n        .order('created_at', { ascending: false })\r\n        .limit(200);\r\n\r\n      if (error) {\r\n        if (error.code === '42P01') {\r\n          console.warn(\"Table 'meals' does not exist yet.\");\r\n        } else {\r\n          console.error('Error fetching meals:', error);\r\n        }\r\n      } else if (data) {\r\n        setMeals(data.map(m => ({\r\n          ...m,\r\n          ingredients: m.raw_ingredients_text || m.ingredients\r\n        })));\r\n      }\r\n    } catch (err) {\r\n      console.error('Unexpected error fetching from Supabase:', err);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  // ─── Add meal ─────────────────────────────────────────────────────────────\r\n  const addMeal = React.useCallback(async (mealData) => {\r\n    const tempId = Date.now().toString();\r\n    const newMeal = {\r\n      id: tempId,\r\n      ...mealData,\r\n      ingredients: mealData.raw_ingredients_text || mealData.ingredients,\r\n      created_at: new Date().toISOString()\r\n    };\r\n\r\n    // Optimistic update\r\n    setMeals(prev => [newMeal, ...prev]);\r\n\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('meals')\r\n        .insert([{\r\n          name: mealData.name,\r\n          calories: mealData.calories,\r\n          protein: mealData.protein,\r\n          carbs: mealData.carbs,\r\n          fats: mealData.fats,\r\n          fiber: mealData.fiber ?? null,\r\n          sugars: mealData.sugars ?? null,\r\n          saturated_fat: mealData.saturated_fat ?? null,\r\n          salt: mealData.salt ?? null,\r\n          barcode: mealData.barcode ?? null,\r\n          brands: mealData.brands ?? null,\r\n          quantity: mealData.quantity ?? null,\r\n          categories: mealData.categories ?? null,\r\n          labels: mealData.labels ?? null,\r\n          origins: mealData.origins ?? null,\r\n          manufacturing_places: mealData.manufacturing_places ?? null,\r\n          stores: mealData.stores ?? null,\r\n          countries: mealData.countries ?? null,\r\n          nutriscore_grade: mealData.nutriscore_grade ?? null,\r\n          ecoscore_grade: mealData.ecoscore_grade ?? null,\r\n          nova_group: mealData.nova_group ?? null,\r\n          raw_ingredients_text: mealData.raw_ingredients_text || mealData.ingredients || null,\r\n          image_url: mealData.image_url ?? null,\r\n        }])\r\n        .select();\r\n\r\n      if (error) {\r\n        if (error.code !== '42P01') {\r\n          console.error('Failed to add meal to Supabase:', error);\r\n        }\r\n      } else if (data && data.length > 0) {\r\n        const inserted = data[0];\r\n        setMeals(prev => prev.map(m => m.id === tempId ? {\r\n          ...inserted,\r\n          ingredients: inserted.raw_ingredients_text\r\n        } : m));\r\n\r\n        // Save linked ingredients if any\r\n        if (mealData.ingredientsList && mealData.ingredientsList.length > 0) {\r\n          const { error: ingError } = await supabase\r\n            .from('ingredients')\r\n            .insert(mealData.ingredientsList.map(ing => ({\r\n              meal_id: inserted.id,\r\n              name: ing.name,\r\n              weight_g: ing.weight_g,\r\n              calories: ing.calories,\r\n              protein: ing.protein,\r\n              carbs: ing.carbs,\r\n              fats: ing.fats,\r\n              icon: ing.icon\r\n            })));\r\n          if (ingError) console.error('Failed to add ingredients:', ingError);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Unexpected error saving meal:', err);\r\n    }\r\n  }, []);\r\n\r\n  // ─── Delete meal ──────────────────────────────────────────────────────────\r\n  const deleteMeal = React.useCallback(async (mealId) => {\r\n    const previousMeals = [...meals];\r\n    setMeals(prev => prev.filter(m => m.id !== mealId));\r\n\r\n    try {\r\n      const { error } = await supabase\r\n        .from('meals')\r\n        .delete()\r\n        .eq('id', mealId);\r\n\r\n      if (error) {\r\n        if (error.code !== '42P01') {\r\n          console.error('Failed to delete meal:', error);\r\n          setMeals(previousMeals);\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Unexpected error deleting meal:', err);\r\n      setMeals(previousMeals);\r\n    }\r\n  }, [meals]);\r\n\r\n  // ─── Derived stats ────────────────────────────────────────────────────────\r\n  \r\n  const getTotalsByRange = React.useCallback((range = 'today') => {\r\n    const today = new Date();\r\n    const end = endOfDay(today).getTime();\r\n    let start;\r\n    if (range === 'today')    start = startOfDay(today).getTime();\r\n    else if (range === 'week')   start = startOfDay(subDays(today, 7)).getTime();\r\n    else if (range === 'month')  start = startOfDay(subDays(today, 30)).getTime();\r\n    else if (range === '3months') start = startOfDay(subDays(today, 90)).getTime();\r\n\r\n    const filteredMeals = meals.filter(meal => {\r\n      const t = new Date(meal.created_at).getTime();\r\n      return t >= start && t <= end;\r\n    });\r\n\r\n    const totals = filteredMeals.reduce((acc, meal) => ({\r\n      calories: acc.calories + (Number(meal.calories) || 0),\r\n      protein:  acc.protein  + (Number(meal.protein)  || 0),\r\n      carbs:    acc.carbs    + (Number(meal.carbs)    || 0),\r\n      fats:     acc.fats     + (Number(meal.fats)     || 0),\r\n    }), { calories: 0, protein: 0, carbs: 0, fats: 0 });\r\n\r\n    const totalMacros = totals.protein + totals.carbs + totals.fats;\r\n    const percentages = totalMacros > 0 ? {\r\n      protein: Math.round((totals.protein / totalMacros) * 100),\r\n      carbs:   Math.round((totals.carbs   / totalMacros) * 100),\r\n      fats:    Math.round((totals.fats    / totalMacros) * 100),\r\n    } : { protein: 0, carbs: 0, fats: 0 };\r\n\r\n    return { totals, percentages, meals: filteredMeals };\r\n  }, [meals]);\r\n\r\n  const getTodayTotals = React.useCallback(() => getTotalsByRange('today'), [getTotalsByRange]);\r\n\r\n  const getWeeklyStats = React.useCallback(() => {\r\n    const today = new Date();\r\n    const weekStart = startOfWeek(today, { weekStartsOn: 1 });\r\n    let totalWeeklyCalories = 0;\r\n\r\n    const weeklyData = Array.from({ length: 7 }).map((_, i) => {\r\n      const day = new Date(weekStart);\r\n      day.setDate(weekStart.getDate() + i);\r\n\r\n      const dayMeals = meals.filter(m => isSameDay(new Date(m.created_at), day));\r\n      const dayTotals = dayMeals.reduce((acc, meal) => ({\r\n        calories: acc.calories + (Number(meal.calories) || 0),\r\n        protein:  acc.protein  + (Number(meal.protein)  || 0),\r\n        carbs:    acc.carbs    + (Number(meal.carbs)    || 0),\r\n        fats:     acc.fats     + (Number(meal.fats)     || 0),\r\n      }), { calories: 0, protein: 0, carbs: 0, fats: 0 });\r\n\r\n      totalWeeklyCalories += dayTotals.calories;\r\n\r\n      const totalMacros = dayTotals.protein + dayTotals.carbs + dayTotals.fats;\r\n      const p = totalMacros > 0 ? Math.round((dayTotals.protein / totalMacros) * 100) : 0;\r\n      const c = totalMacros > 0 ? Math.round((dayTotals.carbs   / totalMacros) * 100) : 0;\r\n      const f = totalMacros > 0 ? Math.round((dayTotals.fats    / totalMacros) * 100) : 0;\r\n\r\n      const maxKcal = parseInt(localStorage.getItem('user_calorie_goal')) || 2600;\r\n      return {\r\n        day: format(day, 'EEE').toUpperCase(),\r\n        p, c, f,\r\n        total: Math.min(100, (dayTotals.calories / maxKcal) * 100),\r\n        rawCalories: dayTotals.calories\r\n      };\r\n    });\r\n\r\n    const dailyAverage = Math.round(totalWeeklyCalories / (today.getDay() === 0 ? 7 : today.getDay()));\r\n    return { weeklyData, totalWeeklyCalories, dailyAverage };\r\n  }, [meals]);\r\n\r\n  // ─── Weight & Water ───────────────────────────────────────────────────────\r\n  const [weightLogs, setWeightLogs] = useState([]);\r\n  const [weightTrend, setWeightTrend] = useState({ diff: 0, latest: 0 });\r\n  const [waterToday, setWaterToday] = useState(0);\r\n  const [bmi, setBmi] = useState(0);\r\n  const [userHeight, setUserHeight] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchWeightLogs();\r\n    fetchWaterLogs();\r\n   \r\n  }, []);\r\n\r\n  const fetchWaterLogs = React.useCallback(async () => {\r\n    try {\r\n      const todayStart = startOfDay(new Date()).toISOString();\r\n      const { data, error } = await supabase\r\n        .from('water_logs')\r\n        .select('amount_ml')\r\n        .gte('created_at', todayStart);\r\n\r\n      if (error && error.code !== '42P01') {\r\n        console.error('Error fetching water logs', error);\r\n      } else if (data) {\r\n        setWaterToday(data.reduce((sum, log) => sum + (Number(log.amount_ml) || 0), 0));\r\n      }\r\n    } catch (err) {\r\n      console.error('Unexpected error fetching water', err);\r\n    }\r\n  }, []);\r\n\r\n  const fetchWeightLogs = React.useCallback(async () => {\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from('weight_logs')\r\n        .select('*')\r\n        .order('logged_date', { ascending: false });\r\n\r\n      let currentWeight = 0;\r\n\r\n      if (error) {\r\n        if (error.code !== '42P01') console.error('Error fetching weight logs', error);\r\n      } else if (data && data.length > 0) {\r\n        setWeightLogs(data);\r\n        currentWeight = Number(data[0].weight);\r\n        if (data.length >= 2) {\r\n          const latest = Number(data[0].weight);\r\n          const previous = Number(data[1].weight);\r\n          setWeightTrend({ latest, diff: Number((latest - previous).toFixed(1)) });\r\n        } else {\r\n          setWeightTrend({ latest: currentWeight, diff: 0 });\r\n        }\r\n      }\r\n\r\n      const { data: { session } } = await supabase.auth.getSession();\r\n      if (session) {\r\n        const { data: profile } = await supabase\r\n          .from('profiles')\r\n          .select('weight, height')\r\n          .eq('id', session.user.id)\r\n          .single();\r\n\r\n        if (profile) {\r\n          if (currentWeight === 0 && profile.weight) {\r\n            currentWeight = Number(profile.weight);\r\n            setWeightTrend({ latest: currentWeight, diff: 0 });\r\n          }\r\n          if (profile.height) {\r\n            const h = Number(profile.height);\r\n            setUserHeight(h);\r\n            if (currentWeight > 0) {\r\n              const hm = h / 100;\r\n              setBmi(Number((currentWeight / (hm * hm)).toFixed(1)));\r\n            }\r\n          }\r\n        }\r\n      }\r\n    } catch (err) {\r\n      console.error('Unexpected error fetching weight', err);\r\n    }\r\n  }, []);\r\n\r\n  const contextValue = React.useMemo(() => ({\r\n    meals, loading,\r\n    addMeal, deleteMeal,\r\n    getTodayTotals, getWeeklyStats, getTotalsByRange,\r\n    weightTrend, weightLogs, waterToday, bmi, userHeight,\r\n    fetchMealsFromSupabase, fetchWeightLogs, fetchWaterLogs\r\n  }), [\r\n    meals, loading, \r\n    addMeal, deleteMeal, \r\n    getTodayTotals, getWeeklyStats, getTotalsByRange, \r\n    weightTrend, weightLogs, waterToday, bmi, userHeight, \r\n    fetchMealsFromSupabase, fetchWeightLogs, fetchWaterLogs\r\n  ]);\r\n\r\n  return (\r\n    <MealContext.Provider value={contextValue}>\r\n      {children}\r\n    </MealContext.Provider>\r\n  );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\lib\\supabase.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\main.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\BarcodeResult.jsx","messages":[],"suppressedMessages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[134,173],"text":""},"desc":"Remove unused variable 'motion'."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\BarcodeScanner.jsx","messages":[],"suppressedMessages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[339,346],"text":""},"desc":"Remove unused variable 'motion'."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\Dashboard.jsx","messages":[],"suppressedMessages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[197,204],"text":""},"desc":"Remove unused variable 'motion'."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\PremiumUpgrade.jsx","messages":[],"suppressedMessages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[80,87],"text":""},"desc":"Remove unused variable 'motion'."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\Profile.jsx","messages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":3,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":3,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[111,118],"text":""},"desc":"Remove unused variable 'motion'."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { supabase } from '../lib/supabase';\r\nimport { useMeals } from '../context/MealContext';\r\n\r\nexport default function Profile() {\r\n  const navigate = useNavigate();\r\n  const { meals } = useMeals();\r\n  const [profile, setProfile] = useState(null);\r\n  const [userEmail, setUserEmail] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  // Edit state\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [editForm, setEditForm] = useState({});\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      try {\r\n        const { data: { session } } = await supabase.auth.getSession();\r\n        if (session) {\r\n          setUserEmail(session.user.email || \"User\");\r\n          const { data, error } = await supabase\r\n            .from('profiles')\r\n            .select('*')\r\n            .eq('id', session.user.id)\r\n            .single();\r\n            \r\n          if (data && !error) {\r\n            setProfile(data);\r\n          }\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error loading profile:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  const totalMealsLogged = meals.length;\r\n  const currentWeight = profile?.weight || localStorage.getItem('user_weight') || '--';\r\n  const calorieGoal = profile?.calorie_goal || localStorage.getItem('user_calorie_goal') || '--';\r\n  const displayName = profile?.full_name || userEmail.split('@')[0] || 'User';\r\n  const userGoal = profile?.goal || localStorage.getItem('onboarding_goal') || 'maintain';\r\n  \r\n  const formatGoal = (g) => {\r\n    switch(g) {\r\n      case 'lose_weight': return 'Lose Weight';\r\n      case 'build_muscle': return 'Build Muscle';\r\n      case 'maintain': \r\n      case 'maintain_weight': return 'Maintain Weight';\r\n      default: return 'On Track';\r\n    }\r\n  };\r\n\r\n  const isPremium = profile?.is_premium === true;\r\n\r\n  const handleEditClick = () => {\r\n    setEditForm({\r\n      full_name: profile?.full_name || '',\r\n      weight: profile?.weight || '',\r\n      height: profile?.height || '',\r\n      age: profile?.age || '',\r\n      gender: profile?.gender || '',\r\n      activity_level: profile?.activity_level || '',\r\n      goal: profile?.goal || 'maintain',\r\n      calorie_goal: profile?.calorie_goal || ''\r\n    });\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const handleSave = async (e) => {\r\n    e.preventDefault();\r\n    setSaving(true);\r\n    try {\r\n      const { data: { session } } = await supabase.auth.getSession();\r\n      \r\n      const updates = {\r\n        full_name: editForm.full_name,\r\n        weight: editForm.weight ? parseFloat(editForm.weight) : null,\r\n        height: editForm.height ? parseFloat(editForm.height) : null,\r\n        age: editForm.age ? parseInt(editForm.age) : null,\r\n        gender: editForm.gender,\r\n        activity_level: editForm.activity_level ? parseFloat(editForm.activity_level) : null,\r\n        goal: editForm.goal,\r\n        calorie_goal: editForm.calorie_goal ? parseInt(editForm.calorie_goal) : null,\r\n        updated_at: new Date().toISOString()\r\n      };\r\n\r\n      const { error } = await supabase\r\n        .from('profiles')\r\n        .update(updates)\r\n        .eq('id', session.user.id);\r\n\r\n      if (error) throw error;\r\n\r\n      setProfile({ ...profile, ...updates });\r\n      setIsEditing(false);\r\n      \r\n      if (updates.weight) localStorage.setItem('user_weight', updates.weight);\r\n      if (updates.calorie_goal) localStorage.setItem('user_calorie_goal', updates.calorie_goal);\r\n      if (updates.goal) localStorage.setItem('onboarding_goal', updates.goal);\r\n      \r\n    } catch (error) {\r\n      console.error('Error updating profile:', error);\r\n      alert('Error saving changes. Please try again.');\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    setEditForm({ ...editForm, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  return (\r\n    <motion.div\r\n      initial={{ opacity: 0, x: 20 }}\r\n      animate={{ opacity: 1, x: 0 }}\r\n      exit={{ opacity: 0, x: -20 }}\r\n      transition={{ duration: 0.3 }}\r\n      className=\"bg-background-light dark:bg-slate-900 text-slate-900 dark:text-slate-100 antialiased min-h-screen flex flex-col overflow-x-hidden\"\r\n    >\r\n      <main className=\"flex-1 pb-10 relative z-0 bg-[#102210]\">\r\n        {/* Immersive Header with Glass Effect */}\r\n        <div className=\"relative w-full h-[340px] overflow-hidden rounded-b-xl\">\r\n          <div \r\n            className=\"absolute inset-0 bg-cover bg-center\" \r\n            style={{ backgroundImage: \"url('https://lh3.googleusercontent.com/aida-public/AB6AXuDnVsbRBnBn5gqFcEPva3jTmV-VoWZ5CTyHSZ33p9mbAXSFI1nQd_Sh7cA9Z5u38yK-q1P4RY5Yw3aVbuGeCbwgyTE40Zzg5UeQ3-omT_s1sz6D3-Td_K1POxc-NMYunnPDJz9gbgBvws3c_LAqvTDBpZa0xJ0DK3QdgoFu7C9RB8TjjvvVI_qq-F5feVQbakqVLas3qW2uM96tZnv4mlw5roFwL2h74MyQcwVcCLFN_gFcf-RrvIGUxJda3hsF7c9xo2xClX85Nxdm')\" }}\r\n          />\r\n          <div className=\"absolute inset-0 bg-gradient-to-b from-black/40 via-[#102210]/60 to-[#102210]\"></div>\r\n          \r\n          <div className=\"absolute top-0 left-0 right-0 p-4 pt-6 flex justify-between items-center z-20\">\r\n            <button \r\n              onClick={() => navigate(-1)}\r\n              className=\"p-2 w-10 h-10 flex items-center justify-center rounded-full bg-black/20 backdrop-blur-md text-white hover:bg-black/30 transition-colors\"\r\n            >\r\n              <span className=\"material-symbols-rounded\">arrow_back</span>\r\n            </button>\r\n            <div className=\"text-white text-lg font-bold tracking-tight\">My Profile</div>\r\n            <div className=\"w-10 h-10\"></div>\r\n          </div>\r\n          \r\n          <div className=\"absolute bottom-0 left-0 right-0 flex flex-col items-center justify-end pb-8 z-20\">\r\n            <div className=\"relative group\">\r\n              <div className=\"w-28 h-28 rounded-full border-4 border-[#0fbd0f] p-1 bg-[#102210]/50 backdrop-blur-sm\">\r\n                <img \r\n                  alt=\"User Avatar\" \r\n                  className=\"w-full h-full rounded-full object-cover\" \r\n                  src={profile?.avatar_url || \"https://lh3.googleusercontent.com/aida-public/AB6AXuDWlHU1WLj4HFNViDf-RPUhFhKnbYZOCqZ54QnaaKTJARoVo7GnKVEzjgqVgcaKjZyrgojgDpleqZV6DdjTeJJgmtVFDYonsuhGVAqx9vDMWvnAvHpkqEimNWXd8lDzviv8j__E0CCzraFRDCvwpsmKM0NZbt2UC42IaV5wAiGsob2mPL_UhPgeuOOhgqL0spzQjAu_XhSdlGGpGJ3-Pk-vBX-qGlR1fb-uuznNvumul9hX88Nrzi8YSVyaKw79iA1v_x74ql7BiiUz\"}\r\n                />\r\n              </div>\r\n              <button \r\n                onClick={handleEditClick} \r\n                className=\"absolute bottom-0 right-0 bg-[#0fbd0f] text-white p-1.5 rounded-full border-4 border-[#102210] shadow-lg hover:bg-emerald-500 transition-colors\"\r\n              >\r\n                <span className=\"material-symbols-rounded text-[16px] leading-none\">edit</span>\r\n              </button>\r\n            </div>\r\n            \r\n            <h1 className=\"text-2xl font-bold mt-3 text-white\">\r\n              {loading ? \"Loading...\" : displayName}\r\n            </h1>\r\n            <div className=\"flex items-center gap-2 mt-1\">\r\n              <span className=\"bg-gradient-to-r from-[#0fbd0f] to-emerald-400 text-transparent bg-clip-text font-bold text-sm\">\r\n                {isPremium ? \"GLYMO PRO MEMBER\" : \"FREE PLAN\"}\r\n              </span>\r\n              {isPremium && (\r\n                <span className=\"material-symbols-rounded text-[#0fbd0f] text-[18px]\" style={{ fontVariationSettings: \"'FILL' 1\" }}>verified</span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Scrollable Content Container */}\r\n        <div className=\"px-5 -mt-6 relative z-10 flex flex-col gap-5\">\r\n          <div className=\"bg-[#1a2e1a]/90 backdrop-blur-xl border border-white/5 p-5 rounded-lg shadow-xl overflow-hidden relative\">\r\n            <div className=\"absolute top-0 right-0 w-32 h-32 bg-[#0fbd0f]/10 rounded-full blur-3xl -mr-10 -mt-10\"></div>\r\n            <div className=\"flex justify-between items-start mb-4 relative z-10\">\r\n              <div>\r\n                <h2 className=\"text-white/60 text-sm font-medium uppercase tracking-wider\">Transformation</h2>\r\n                <div className=\"flex items-baseline gap-2 mt-1\">\r\n                  <span className=\"text-3xl font-bold text-white\">{currentWeight} kg</span>\r\n                  <span className=\"text-slate-400 text-sm font-medium ml-2\">Goal: {calorieGoal} kcal/day</span>\r\n                </div>\r\n                <p className=\"text-white/40 text-xs mt-1\">Updated recently</p>\r\n              </div>\r\n              <button \r\n                onClick={() => navigate('/stats')} \r\n                className=\"text-[#0fbd0f] hover:text-white transition-colors\"\r\n              >\r\n                <span className=\"material-symbols-rounded\">arrow_outward</span>\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"h-24 w-full relative z-10\">\r\n              <svg fill=\"none\" height=\"100%\" preserveAspectRatio=\"none\" viewBox=\"0 0 300 100\" width=\"100%\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <defs>\r\n                  <linearGradient id=\"graphGradient\" x1=\"0\" x2=\"0\" y1=\"0\" y2=\"1\">\r\n                    <stop offset=\"0%\" stopColor=\"#0fbd0f\" stopOpacity=\"0.3\"></stop>\r\n                    <stop offset=\"100%\" stopColor=\"#0fbd0f\" stopOpacity=\"0\"></stop>\r\n                  </linearGradient>\r\n                </defs>\r\n                <path d=\"M0,80 C50,80 50,40 100,40 C150,40 150,60 200,60 C250,60 250,10 300,10 V100 H0 Z\" fill=\"url(#graphGradient)\"></path>\r\n                <path d=\"M0,80 C50,80 50,40 100,40 C150,40 150,60 200,60 C250,60 250,10 300,10\" stroke=\"#0fbd0f\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"3\"></path>\r\n                <circle cx=\"100\" cy=\"40\" fill=\"#0fbd0f\" r=\"4\" stroke=\"#1a2e1a\" strokeWidth=\"2\"></circle>\r\n                <circle cx=\"200\" cy=\"60\" fill=\"#0fbd0f\" r=\"4\" stroke=\"#1a2e1a\" strokeWidth=\"2\"></circle>\r\n                <circle cx=\"300\" cy=\"10\" fill=\"#0fbd0f\" r=\"4\" stroke=\"#1a2e1a\" strokeWidth=\"2\"></circle>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"grid grid-cols-2 gap-4\">\r\n            <button \r\n              onClick={() => navigate('/')} \r\n              className=\"bg-[#1a2e1a]/60 hover:bg-[#1a2e1a] border border-white/5 p-5 rounded-lg flex flex-col items-center justify-center gap-3 text-center transition-all active:scale-95 group\"\r\n            >\r\n              <div className=\"w-14 h-14 rounded-full bg-emerald-900/40 flex items-center justify-center text-[#0fbd0f] group-hover:bg-[#0fbd0f] group-hover:text-white transition-colors\">\r\n                <span className=\"material-symbols-rounded text-3xl\">restaurant_menu</span>\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-bold text-white text-base\">My Recipes</h3>\r\n                <p className=\"text-white/40 text-xs mt-1\">{totalMealsLogged} Created</p>\r\n              </div>\r\n            </button>\r\n            <button \r\n              onClick={() => navigate('/results')} \r\n              className=\"bg-[#1a2e1a]/60 hover:bg-[#1a2e1a] border border-white/5 p-5 rounded-lg flex flex-col items-center justify-center gap-3 text-center transition-all active:scale-95 group\"\r\n            >\r\n              <div className=\"w-14 h-14 rounded-full bg-emerald-900/40 flex items-center justify-center text-[#0fbd0f] group-hover:bg-[#0fbd0f] group-hover:text-white transition-colors\">\r\n                <span className=\"material-symbols-rounded text-3xl\">qr_code_scanner</span>\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-bold text-white text-base\">Saved Scans</h3>\r\n                <p className=\"text-white/40 text-xs mt-1\">{totalMealsLogged} Scans</p>\r\n              </div>\r\n            </button>\r\n            <button \r\n              onClick={() => navigate('/stats')} \r\n              className=\"bg-[#1a2e1a]/60 hover:bg-[#1a2e1a] border border-white/5 p-5 rounded-lg flex flex-col items-center justify-center gap-3 text-center transition-all active:scale-95 group\"\r\n            >\r\n              <div className=\"w-14 h-14 rounded-full bg-emerald-900/40 flex items-center justify-center text-[#0fbd0f] group-hover:bg-[#0fbd0f] group-hover:text-white transition-colors\">\r\n                <span className=\"material-symbols-rounded text-3xl\">bar_chart</span>\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-bold text-white text-base\">Daily Reports</h3>\r\n                <p className=\"text-white/40 text-xs mt-1\">Analytics</p>\r\n              </div>\r\n            </button>\r\n            <button \r\n              onClick={() => navigate('/onboarding/goal')} \r\n              className=\"bg-[#1a2e1a]/60 hover:bg-[#1a2e1a] border border-white/5 p-5 rounded-lg flex flex-col items-center justify-center gap-3 text-center transition-all active:scale-95 group\"\r\n            >\r\n              <div className=\"w-14 h-14 rounded-full bg-emerald-900/40 flex items-center justify-center text-[#0fbd0f] group-hover:bg-[#0fbd0f] group-hover:text-white transition-colors\">\r\n                <span className=\"material-symbols-rounded text-3xl\">flag</span>\r\n              </div>\r\n              <div>\r\n                <h3 className=\"font-bold text-white text-base\">My Goals</h3>\r\n                <p className=\"text-white/40 text-xs mt-1 capitalize\">{formatGoal(userGoal)}</p>\r\n              </div>\r\n            </button>\r\n          </div>\r\n\r\n          {isPremium ? (\r\n            <div className=\"mt-2 w-full p-0.5 rounded-lg bg-gradient-to-r from-[#0fbd0f]/50 to-emerald-600/50\">\r\n              <div className=\"bg-[#102210] rounded-[calc(2rem-2px)] p-4 flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"bg-[#0fbd0f]/20 p-2 rounded-full flex items-center justify-center\">\r\n                    <span className=\"material-symbols-rounded text-[#0fbd0f]\">diamond</span>\r\n                  </div>\r\n                  <div className=\"flex flex-col\">\r\n                    <span className=\"text-white font-bold text-sm\">Glymo Premium Active</span>\r\n                    <span className=\"text-white/50 text-xs\">Renews on Oct 24, 2024</span>\r\n                  </div>\r\n                </div>\r\n                <span className=\"material-symbols-rounded text-white/40\">chevron_right</span>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div \r\n              onClick={() => navigate('/', { state: { showPremium: true } })} \r\n              className=\"mt-2 w-full p-0.5 rounded-lg bg-gradient-to-r from-slate-700/50 to-slate-600/50 cursor-pointer hover:from-[#0fbd0f]/40 hover:to-emerald-600/40 transition-colors group\"\r\n            >\r\n              <div className=\"bg-[#102210] rounded-[calc(2rem-2px)] p-4 flex items-center justify-between\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"bg-slate-800 p-2 rounded-full flex items-center justify-center group-hover:bg-[#0fbd0f]/20 transition-colors\">\r\n                    <span className=\"material-symbols-rounded text-slate-400 group-hover:text-[#0fbd0f] transition-colors\">star</span>\r\n                  </div>\r\n                  <div className=\"flex flex-col\">\r\n                    <span className=\"text-white font-bold text-sm\">Upgrade to Premium</span>\r\n                    <span className=\"text-white/50 text-xs\">Unlock all AI features</span>\r\n                  </div>\r\n                </div>\r\n                <span className=\"material-symbols-rounded text-white/40 group-hover:text-white transition-colors\">chevron_right</span>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"bg-[#1a2e1a]/40 border border-white/5 rounded-lg p-2 flex flex-col gap-1 mb-8\">\r\n            <button \r\n              onClick={async () => {\r\n                await supabase.auth.signOut();\r\n                localStorage.removeItem('onboarding_completed');\r\n                navigate('/welcome');\r\n              }}\r\n              className=\"flex items-center justify-between w-full p-3 hover:bg-white/5 rounded-lg transition-colors group\"\r\n            >\r\n              <div className=\"flex items-center gap-3\">\r\n                <span className=\"material-symbols-rounded text-white/60 group-hover:text-red-500 transition-colors\">logout</span>\r\n                <span className=\"text-red-400 group-hover:text-red-500 text-sm font-medium transition-colors\">Sign Out</span>\r\n              </div>\r\n              <span className=\"material-symbols-rounded text-white/30 text-lg\">chevron_right</span>\r\n            </button>\r\n            <div className=\"h-px bg-white/5 mx-3\"></div>\r\n            <button \r\n              onClick={() => alert(\"Besoin d'aide ? Contactez-nous à support@glymo.ai\")} \r\n              className=\"flex items-center justify-between w-full p-3 hover:bg-white/5 rounded-lg transition-colors group\"\r\n            >\r\n              <div className=\"flex items-center gap-3\">\r\n                <span className=\"material-symbols-rounded text-white/60 group-hover:text-[#0fbd0f] transition-colors\">help</span>\r\n                <span className=\"text-white text-sm font-medium\">Help &amp; Support</span>\r\n              </div>\r\n              <span className=\"material-symbols-rounded text-white/30 text-lg\">chevron_right</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </main>\r\n\r\n      {/* Edit Profile Editor Overlay */}\r\n      <AnimatePresence>\r\n        {isEditing && (\r\n          <motion.div \r\n            initial={{ opacity: 0, y: \"100%\" }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            exit={{ opacity: 0, y: \"100%\" }}\r\n            transition={{ type: \"spring\", bounce: 0, duration: 0.4 }}\r\n            className=\"fixed inset-0 z-50 bg-[#102210] flex flex-col overflow-y-auto\"\r\n          >\r\n            <div className=\"sticky top-0 z-10 bg-[#102210]/80 backdrop-blur-md p-4 flex justify-between items-center border-b border-white/10\">\r\n              <button \r\n                onClick={() => setIsEditing(false)}\r\n                className=\"text-white/60 hover:text-white transition-colors\"\r\n                disabled={saving}\r\n              >\r\n                Cancel\r\n              </button>\r\n              <h2 className=\"text-white font-bold text-lg\">Edit Profile</h2>\r\n              <button \r\n                onClick={handleSave}\r\n                className=\"text-[#0fbd0f] font-bold hover:text-emerald-400 transition-colors\"\r\n                disabled={saving}\r\n              >\r\n                {saving ? \"Saving...\" : \"Save\"}\r\n              </button>\r\n            </div>\r\n\r\n            <div className=\"p-5 flex flex-col gap-6\">\r\n              <div className=\"flex flex-col gap-2\">\r\n                <label className=\"text-white/60 text-sm font-medium\">Full Name</label>\r\n                <input \r\n                  type=\"text\" \r\n                  name=\"full_name\"\r\n                  value={editForm.full_name}\r\n                  onChange={handleChange}\r\n                  className=\"bg-[#1a2e1a] border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-[#0fbd0f] transition-colors\"\r\n                  placeholder=\"John Doe\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"flex flex-col gap-2\">\r\n                  <label className=\"text-white/60 text-sm font-medium\">Age</label>\r\n                  <input \r\n                    type=\"number\" \r\n                    name=\"age\"\r\n                    value={editForm.age}\r\n                    onChange={handleChange}\r\n                    className=\"bg-[#1a2e1a] border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-[#0fbd0f] transition-colors\"\r\n                    placeholder=\"25\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex flex-col gap-2\">\r\n                  <label className=\"text-white/60 text-sm font-medium\">Gender</label>\r\n                  <select \r\n                    name=\"gender\"\r\n                    value={editForm.gender}\r\n                    onChange={handleChange}\r\n                    className=\"bg-[#1a2e1a] border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-[#0fbd0f] transition-colors appearance-none\"\r\n                  >\r\n                    <option value=\"\">Select</option>\r\n                    <option value=\"male\">Male</option>\r\n                    <option value=\"female\">Female</option>\r\n                    <option value=\"other\">Other</option>\r\n                  </select>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div className=\"flex flex-col gap-2\">\r\n                  <label className=\"text-white/60 text-sm font-medium\">Weight (kg)</label>\r\n                  <input \r\n                    type=\"number\" \r\n                    name=\"weight\"\r\n                    step=\"0.1\"\r\n                    value={editForm.weight}\r\n                    onChange={handleChange}\r\n                    className=\"bg-[#1a2e1a] border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-[#0fbd0f] transition-colors\"\r\n                    placeholder=\"70.5\"\r\n                  />\r\n                </div>\r\n                <div className=\"flex flex-col gap-2\">\r\n                  <label className=\"text-white/60 text-sm font-medium\">Height (cm)</label>\r\n                  <input \r\n                    type=\"number\" \r\n                    name=\"height\"\r\n                    value={editForm.height}\r\n                    onChange={handleChange}\r\n                    className=\"bg-[#1a2e1a] border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-[#0fbd0f] transition-colors\"\r\n                    placeholder=\"175\"\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex flex-col gap-2\">\r\n                <label className=\"text-white/60 text-sm font-medium\">Goal</label>\r\n                <select \r\n                  name=\"goal\"\r\n                  value={editForm.goal}\r\n                  onChange={handleChange}\r\n                  className=\"bg-[#1a2e1a] border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-[#0fbd0f] transition-colors appearance-none\"\r\n                >\r\n                  <option value=\"lose_weight\">Lose Weight</option>\r\n                  <option value=\"maintain\">Maintain Weight</option>\r\n                  <option value=\"build_muscle\">Build Muscle</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div className=\"flex flex-col gap-2 mb-10\">\r\n                <label className=\"text-white/60 text-sm font-medium\">Daily Calorie Goal (kcal)</label>\r\n                <input \r\n                  type=\"number\" \r\n                  name=\"calorie_goal\"\r\n                  value={editForm.calorie_goal}\r\n                  onChange={handleChange}\r\n                  className=\"bg-[#1a2e1a] border border-white/10 rounded-lg p-3 text-white focus:outline-none focus:border-[#0fbd0f] transition-colors\"\r\n                  placeholder=\"2000\"\r\n                />\r\n                <p className=\"text-white/40 text-xs mt-1\">Leave blank to auto-calculate based on your metrics later.</p>\r\n              </div>\r\n\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n      </AnimatePresence>\r\n    </motion.div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\ScanResults.jsx","messages":[],"suppressedMessages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[126,165],"text":""},"desc":"Remove unused variable 'motion'."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\Scanner.jsx","messages":[],"suppressedMessages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[150,189],"text":""},"desc":"Remove unused variable 'motion'."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\Statistics.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\Welcome.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\onboarding\\AuthSignin.jsx","messages":[],"suppressedMessages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[134,173],"text":""},"desc":"Remove unused variable 'motion'."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\onboarding\\AuthSignup.jsx","messages":[],"suppressedMessages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[143,150],"text":""},"desc":"Remove unused variable 'motion'."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\onboarding\\DiscoverySource.jsx","messages":[],"suppressedMessages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[134,173],"text":""},"desc":"Remove unused variable 'motion'."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\onboarding\\GoalSelection.jsx","messages":[],"suppressedMessages":[{"ruleId":"no-unused-vars","severity":2,"message":"'motion' is defined but never used. Allowed unused vars must match /^[A-Z_]/u.","line":4,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":4,"endColumn":16,"suggestions":[{"messageId":"removeVar","data":{"varName":"motion"},"fix":{"range":[134,173],"text":""},"desc":"Remove unused variable 'motion'."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\src\\pages\\onboarding\\PersonalDetails.jsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\tailwind.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\pc\\.gemini\\antigravity\\scratch\\ai-calorie-app\\vite.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]